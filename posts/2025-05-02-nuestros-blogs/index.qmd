---
title: "Nuestros Blogs"
author: 
  - name: "Adrian Canova Herrandiz"
  - name: "Andrés De la Rosa Portilla"
  - name: "Denisse Alejandra Diaz Romo"
  - name: "Guadalupe Méndez Dewar"
  - name: "Juan José Hernández Viveros"
  - name: "Mordecai"
  - name: "Nohemy Cardona Claros"
  - name: "Ulises Zarate"
  - name: "Vicky Delgadillo"
  - name: "Victoria Carolina"

image: "img/Image by Gerd Altmann from Pixabay - tree-200795_1280.jpg"
lang: es
date: 02/may/2025

categories: [comunidad, participantes, ejemplos, galería]

code-fold: true
code-summary: "muestra el escript:"
fig-cap-location: top

bibliography: "../references.bib"
csl: ../apa.csl

format: 
  html:
    toc: true
---


## Blogs de participantes

Haremos una página con una galería de muestra de los blogs que estamos construyendo. Por favor [comparte tus datos](https://miequiz.shinyapps.io/listaBlogs/ ) para poderlo hacer. Actualmente tenemos estos **Blogs** registrados.


```{r}
#| label: recupera-datos

pacman::p_load(surveydown, flextable, dplyr, stringr)


db <- sd_db_connect(env_file = ".env", 
                    ignore = FALSE,
                    gssencmode = "prefer")

data <- sd_get_data(db = db)

data |> 
  mutate(blog = str_extract(url_blog, "(?<=//)(.*)(?=\\.netlify\\.app)")) |> 
  filter(nombre != "") |>     
  arrange(nombre) |> 
  select(nombre, url_blog, blog) |> 
  flextable() |> 
  set_header_labels(nombre = "Nombre", url_blog = "URL", blog = "Blog") |> 
  compose(j = 2, value = as_paragraph(hyperlink_text(x = blog, url = url_blog))) |> 
  flextable::delete_columns(j = 3) |> 
  width(j=1:2, width = c(2.5, 4))
  
```


Algunas inconsistencias en el registro

Repeticiones

```{r}
#| label: repetidos

data |>
  filter(!is.na(nombre)) |> 
  group_by(nombre) |>
  filter(n() > 1) |>
  ungroup() |> 
  select(nombre:url_blog) |> 
  flextable() |> 
  set_header_labels(nombre = "Nombre", correo = "e-mail", 
                    url_git = "GitHub", url_blog = "Blog")
```

Registros sin datos

```{r}
#| label: vacios

vacios <- data |>
  filter(is.na(nombre)) |> 
  select(nombre:url_blog) |> 
  summarise(vacios = n())

print(paste("Registros vacíos: ", vacios))

```

URL equivocadas

```{r}
#| label: url-mal

data <- sd_get_data(db = db)

data |>
  filter(str_detect(url_git, "netlify") | str_detect(url_blog, "github") ) |> 
  select(nombre:url_blog) |> 
  flextable() |> 
  set_header_labels(nombre = "Nombre", correo = "e-mail", 
                    url_git = "GitHub", url_blog = "Blog")
```
